var Sequelize = require('sequelize');
var db = loadConfig('database');
var Attack = loadModel('attack');

var Scenario = db.define('scenarios', {
	id: {
		type: Sequelize.INTEGER,
		allowNull: false,
		primaryKey: true,
		autoIncrement: true
	},
	title: Sequelize.STRING,
	repository: Sequelize.STRING,
	simulationUrl: Sequelize.STRING,
	runningStatus: Sequelize.INTEGER,
	runningPath: Sequelize.STRING
},{
	freezeTableName: true,
});

Scenario.belongsTo(Attack, {foreignKey: 'attacks_id'});
Attack.hasMany(Scenario, {foreignKey: 'attacks_id'});

module.exports = Scenario;
