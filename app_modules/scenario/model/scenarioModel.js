var Sequelize = require('sequelize');
var db = loadConfig('database');
var Attack = loadModel('attack');
var User = loadModel('user');

var Scenario = db.define('scenarios', {
	id: {
		type: Sequelize.INTEGER,
		allowNull: false,
		primaryKey: true,
		autoIncrement: true
	},
	users_id: Sequelize.INTEGER,
	title: Sequelize.STRING,
	applicationName: Sequelize.STRING,
	repository: Sequelize.STRING,
	simulationAddress: Sequelize.STRING,
	simulationPort: Sequelize.INTEGER,
	runningStatus: Sequelize.INTEGER,
	runningToken: Sequelize.STRING,
	customFiles: Sequelize.TEXT,
	emails: Sequelize.TEXT
},{
	freezeTableName: true,
});

Scenario.belongsTo(User, {foreignKey: 'users_id'});
User.hasMany(Scenario, {foreignKey: 'users_id'});

module.exports = Scenario;
